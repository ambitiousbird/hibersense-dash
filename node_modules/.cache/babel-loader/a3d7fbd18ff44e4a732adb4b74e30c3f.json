{"ast":null,"code":"var _jsxFileName = \"/Users/langgao/Documents/HiberSense Dashboard/hibersense-dash/src/components/DonutChart/DonutChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { Donut3D_transition, Donut3D_draw } from './Donut3D';\nimport './donutchart.css';\nconst energyData = [{\n  label: \"Kitchen\",\n  color: \"#3366CC\",\n  usuage: 0\n}, {\n  label: \"Bathroom\",\n  color: \"#990099\",\n  usuage: 0\n}, {\n  label: \"Bedroom\",\n  color: \"#FF9900\",\n  usuage: 0\n}, {\n  label: \"Livingroom\",\n  color: \"#109618\",\n  usuage: 0\n}]; // const changeData=()=>{\n//     Donut3D_transition(\"energyDonut\", randomData(), 130, 100, 30, 0.4);\n//     // Donut3D_transition(\"quotesDonut\", randomData(), 130, 100, 30, 0);\n// }\n\nconst randomData = () => {\n  return energyData.map(function (d) {\n    return {\n      label: d.label,\n      value: 1000 * d3.randomNormal(d.usuage, 0.005)(),\n      color: d.color\n    };\n  });\n};\n\nexport default class componentName extends Component {\n  constructor(props) {\n    super();\n\n    this.fillData = () => {\n      const _this$props = this.props,\n            kitchenUsuage = _this$props.kitchenUsuage,\n            bathroomUsuage = _this$props.bathroomUsuage,\n            bedroomUsuage = _this$props.bedroomUsuage,\n            livingroomUsuage = _this$props.livingroomUsuage;\n      const total = kitchenUsuage + bathroomUsuage + bedroomUsuage + livingroomUsuage;\n      const kitchenPercentage = kitchenUsuage / total;\n      const bathroomPercentage = bathroomUsuage / total;\n      const bedroomPercentage = bedroomUsuage / total;\n      const livingroomPercentage = livingroomUsuage / total;\n      energyData.forEach(i => {\n        if (i.label === \"Kitchen\") i.usuage = kitchenPercentage;\n        if (i.label === \"Bathroom\") i.usuage = bathroomPercentage;\n        if (i.label === \"Bedroom\") i.usuage = bedroomPercentage;\n        if (i.label === \"Livingroom\") i.usuage = livingroomPercentage;\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.fillData();\n  }\n\n  componentDidMount() {\n    var svg = d3.select(\"#pieChart\").append(\"svg\").attr(\"width\", 400).attr(\"height\", 300);\n    svg.append(\"g\").attr(\"id\", \"energyDonut\");\n    Donut3D_draw(\"energyDonut\", randomData(), 150, 150, 130, 100, 30, 0.4);\n  }\n\n  componentWillUpdate() {\n    const _this$props2 = this.props,\n          kitchenUsuage = _this$props2.kitchenUsuage,\n          bathroomUsuage = _this$props2.bathroomUsuage,\n          bedroomUsuage = _this$props2.bedroomUsuage,\n          livingroomUsuage = _this$props2.livingroomUsuage;\n    const total = kitchenUsuage + bathroomUsuage + bedroomUsuage + livingroomUsuage;\n    const kitchenPercentage = kitchenUsuage / total;\n    const bathroomPercentage = bathroomUsuage / total;\n    const bedroomPercentage = bedroomUsuage / total;\n    const livingroomPercentage = livingroomUsuage / total;\n    energyData.forEach(i => {\n      if (i.label === \"Kitchen\") i.usuage = kitchenPercentage;\n      if (i.label === \"Bathroom\") i.usuage = bathroomPercentage;\n      if (i.label === \"Bedroom\") i.usuage = bedroomPercentage;\n      if (i.label === \"Livingroom\") i.usuage = livingroomPercentage;\n    });\n    this.transition = setInterval(() => {\n      Donut3D_transition(\"energyDonut\", randomData(), 130, 100, 30, 0);\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.transition);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"energy-consumption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      style: {\n        paddingRight: \"200px\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Energy usage distribution\"), React.createElement(\"div\", {\n      id: \"pieChart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/langgao/Documents/HiberSense Dashboard/hibersense-dash/src/components/DonutChart/DonutChart.js"],"names":["React","Component","d3","Donut3D_transition","Donut3D_draw","energyData","label","color","usuage","randomData","map","d","value","randomNormal","componentName","constructor","props","fillData","kitchenUsuage","bathroomUsuage","bedroomUsuage","livingroomUsuage","total","kitchenPercentage","bathroomPercentage","bedroomPercentage","livingroomPercentage","forEach","i","componentWillMount","componentDidMount","svg","select","append","attr","componentWillUpdate","transition","setInterval","componentWillUnmount","clearInterval","render","paddingRight","textAlign"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport {Donut3D_transition, Donut3D_draw} from './Donut3D';\nimport './donutchart.css';\n\nconst energyData=[\n\t{label:\"Kitchen\", color:\"#3366CC\",usuage:0},\n\t{label:\"Bathroom\", color:\"#990099\",usuage:0},\n\t{label:\"Bedroom\", color:\"#FF9900\",usuage:0},\n\t{label:\"Livingroom\", color:\"#109618\",usuage:0},\n];\n\n// const changeData=()=>{\n//     Donut3D_transition(\"energyDonut\", randomData(), 130, 100, 30, 0.4);\n//     // Donut3D_transition(\"quotesDonut\", randomData(), 130, 100, 30, 0);\n// }\n\nconst randomData=()=>{\n    \n    return energyData.map(function(d){ \n        return {label:d.label, \n            value:1000*d3.randomNormal(d.usuage,0.005)(), \n            color:d.color};});\n}\n\nexport default class componentName extends Component {\n    constructor(props){\n        super();\n    }\n \n    fillData=()=>{\n        const {\n            kitchenUsuage,\n            bathroomUsuage,\n            bedroomUsuage,\n            livingroomUsuage\n        } = this.props;\n        const total = kitchenUsuage+bathroomUsuage+bedroomUsuage+livingroomUsuage;\n        const kitchenPercentage = kitchenUsuage/total;\n        const bathroomPercentage = bathroomUsuage/total;\n        const bedroomPercentage = bedroomUsuage/total;\n        const livingroomPercentage = livingroomUsuage/total;\n\n        energyData.forEach(i=>{\n            if(i.label===\"Kitchen\") i.usuage = kitchenPercentage;\n            if(i.label===\"Bathroom\") i.usuage = bathroomPercentage;\n            if(i.label===\"Bedroom\") i.usuage = bedroomPercentage;\n            if(i.label===\"Livingroom\") i.usuage = livingroomPercentage;\n        });\n    }\n    componentWillMount(){\n        this.fillData();\n    }\n    componentDidMount() {\n\n        var svg = d3.select(\"#pieChart\").append(\"svg\").attr(\"width\",400).attr(\"height\",300);\n    \n        svg.append(\"g\").attr(\"id\",\"energyDonut\");\n        Donut3D_draw(\"energyDonut\", randomData(), 150, 150, 130, 100, 30, 0.4);\n\n    };\n\n    componentWillUpdate(){\n        const {\n            kitchenUsuage,\n            bathroomUsuage,\n            bedroomUsuage,\n            livingroomUsuage\n        } = this.props;\n        const total = kitchenUsuage+bathroomUsuage+bedroomUsuage+livingroomUsuage;\n        const kitchenPercentage = kitchenUsuage/total;\n        const bathroomPercentage = bathroomUsuage/total;\n        const bedroomPercentage = bedroomUsuage/total;\n        const livingroomPercentage = livingroomUsuage/total;\n\n        energyData.forEach(i=>{\n            if(i.label===\"Kitchen\") i.usuage = kitchenPercentage;\n            if(i.label===\"Bathroom\") i.usuage = bathroomPercentage;\n            if(i.label===\"Bedroom\") i.usuage = bedroomPercentage;\n            if(i.label===\"Livingroom\") i.usuage = livingroomPercentage;\n        });\n        this.transition = setInterval(\n            ()=>{\n            Donut3D_transition(\"energyDonut\", randomData(), 130, 100, 30, 0)},\n            1000\n        )\n    }\n\n    componentWillUnmount(){\n        clearInterval(this.transition);\n    }\n\n    render() {\n      return (\n        <div className='energy-consumption'>\n            <h3 style={{paddingRight:\"200px\",textAlign:\"center\"}}>Energy usage distribution</h3>\n            <div id='pieChart'></div>\n        </div>\n      )\n    }\n  }\n"]},"metadata":{},"sourceType":"module"}